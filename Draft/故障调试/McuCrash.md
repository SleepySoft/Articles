## 前言

调试嵌入式程序时，经常会遇到Crash的情况。一看堆栈，发现程序crash在莫名其妙的地址，并且堆栈混乱。这种情况通常就是堆栈踩踏了。

其原理是，在函数跳转时，程序会把返回地址（其实是函数后的下一条指令地址）压栈，在函数返回时从栈中获取该地址，继续执行。
如果这一段地址的内容被更改了，那么程序取到的地址就是一个无效值，跳转必然会crash。

一般有以下几种场景：

1. 某个线程（或Task）的栈溢出了，导致写到了另一个线程的栈。

这是最常见的情况，因为栈的内存通常是在一起的。


2. 内存访问越界，写到了某个线程的栈。这种情况一般只会出现在基于某些RTOS的程序上，因为某些RTOS的栈是自己指定的一段内存，实际上是在全局变量区之内的。


3. 随机踩踏（比如写了野指针）


